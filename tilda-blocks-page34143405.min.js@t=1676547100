function t_throttle(fn,threshhold,scope){var last;var deferTimer;threshhold||(threshhold=250);return function(){var context=scope||this;var now=+new Date();var args=arguments;if(last&&now<last+threshhold){clearTimeout(deferTimer);deferTimer=setTimeout(function(){last=now;fn.apply(context,args)},threshhold)}else{last=now;fn.apply(context,args)}}}
function t774_init(recId){var rec=document.getElementById('rec'+recId);if(!rec)return;var container=rec.querySelector('.t774');if(!container)return;t774_unifyHeights(recId);window.addEventListener('resize',t_throttle(function(){t774_unifyHeights(recId)},200));container.addEventListener('displayChanged',function(){t774_unifyHeights(recId)});window.addEventListener('load',function(){t774_unifyHeights(recId)});setTimeout(function(){t774__updateLazyLoad(recId)},500)}
function t774__updateLazyLoad(recId){var allRecords=document.getElementById('allrecords');var container=document.querySelector('#rec'+recId+' .t774__container_mobile-flex');if(!allRecords)return;var mode=allRecords.getAttribute('data-tilda-mode');if(container&&mode!=='edit'&&mode!=='preview'&&window.lazy==='y'){container.addEventListener('scroll',t_throttle(function(){if(window.lazy==='y'||(allRecords&&allRecords.getAttribute('data-tilda-lazy')==='yes')){t_onFuncLoad('t_lazyload_update',function(){t_lazyload_update()})}},500))}}
function t774_unifyHeights(recId){var rec=document.getElementById('rec'+recId);if(!rec)return;var container=rec.querySelector('.t774__container');if(!container)return;var attrPerRow=container.getAttribute('data-blocks-per-row');var contentsList=rec.querySelectorAll('.t774__content');var lengthScrollIcon=rec.querySelectorAll('.t774__scroll-icon-wrapper').length;var contents=Array.prototype.slice.call(contentsList);if(window.innerWidth<=480&&lengthScrollIcon===0){for(var i=0;i<contents.length;i++){contents[i].style.height='auto'}
return}
var countRow=+attrPerRow;if(window.innerWidth<=960&&lengthScrollIcon>0){countRow=contents.length}else if(window.innerWidth<=960){countRow=2}
for(var i=0;i<contents.length;i+=countRow){var maxHeight=0;var cols=contents.slice(i,i+countRow);for(var j=0;j<cols.length;j++){var col=cols[j];var textWrap=col.querySelector('.t774__textwrapper');var btns=col.querySelectorAll('.t774__btn-wrapper, .t774__btntext-wrapper');var colHeight=textWrap.offsetHeight+(btns[0]?btns[0].offsetHeight:0);if(colHeight>maxHeight)maxHeight=colHeight}
for(var j=0;j<cols.length;j++){cols[j].style.height=maxHeight+'px'}}}